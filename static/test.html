<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title></title>
</head>
<body>
  <script>
    // by Artem Barger from http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values
    var getParameterByName = function(name){
      name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
      var regexS = "[\\?&]" + name + "=([^&#]*)";
      var regex = new RegExp(regexS);
      var results = regex.exec(window.location.search);
      if(results == null) return "";
      else return decodeURIComponent(results[1].replace(/\+/g, " "));
    }

    var queenSocket = window.parent.iframeSockets[getParameterByName("queenSocketId")];
    window.alert = function(){};
    window.confirm = function(){return false;};
    window.prompt = function(){return null;};

    queenSocket.onMessage = function(message){
      var interval = setInterval(function(){
        var guess = Math.floor(Math.random() * message);
        queenSocket(guess);
        if(guess == 42) clearInterval(interval);
      }, 100);
    };
	</script>
</body>
</html>